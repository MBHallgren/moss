<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Microbial Outbreak Surveillance System 1.0</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../js/mac_analyse.js" type="text/javascript"></script>
</head>


<body>
<!-- Side navigation -->
<div class="sidenav" id="mySidebar">
    <a href="./index.html" id>Home</a>
    <a href="./services.html">Services</a>
    <a href="./analytics.html">Analytics</a>
    <a href="./database.html">Database</a>
    <a href="./dashboard.html">Dashboard</a>
    <a href="./update.html">Update</a>
    <a href="./config.html">Config</a>
    <a href="./history.html">History</a>
</div>
<!-- Page content https://www.who.int/news/item/27-02-2017-who-publishes-list-of-bacteria-for-which-new-antibiotics-are-urgently-needed https://www.cdc.gov/drugresistance/biggest-threats.html  -->


<div class="main" id="main">
    <main data-router-wrapper>
        <section data-router-view="home" class="home">
            <div class="home-content">
                <div class ="home-presentation">
                    <h1>Analyse new isolates</h1>

                    Your current system configuration is:

                    <pre id="current-config"></pre>

                    MOSS path: <pre id="current-exepath"></pre>
                </div>

                <div class="MOSS-arguments" id="MOSS-arguments">
                    Would you like to analysis several samples or a single one?
                    <br>
                    <button type="button" id="single-sample-button" onclick="singleInputFunction()">Single sample analysis</button>
                    <button type="button" id="multiple-sample-button" onclick="multipleInputFunction()">Multiple sample analysis</button>
                    <br>
                    <br>
                    <div class="multiple-input" id="multiple-input">
                        <div class="generate-multiple-index-file-section" id="generate-multiple-index-file-section">
                            <label for="multiple-input-type">Select type of input:</label>
                            <select id="multiple-input-type" name="multiple-input-type">
                                <option value="nanopore">Nanopore reads</option>
                                <option value="pe_illumina">Paired end illumina reads</option>
                                <option value="se_illumina">Single end illumina reads</option>
                            </select>
                            <br>
                            <form action="/action_page.php">
                                <input type="file" id="multiple-input-field" name="multiple-input-field" multiple="multiple" value=""><br><br>
                                <button type="button" id="create-metadata-table" onclick="create_metadata_table()">Create metadata table</button>
                            </form>
                            <div id='metadata-table-div'></div>
                        </div>
                        <div class="parameter-section" id="parameter-section">

                            <div class="threads">
                                <label for="threads">Number of threads (default = 1):</label>
                                <select name="threads" id="threads">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="4">4</option>
                                    <option value="8">8</option>
                                </select>
                                <br>
                                <div hidden><div hidden class="parallel-section" id="parallel-section">
                                    <form>
                                        <label for="parallel-jobs"> Number of jobs to be run in parallel (default:1   max:8):</label>
                                        <input type="text" id="parallel-jobs" name="parallel-jobs" value=1>
                                        <br>
                                    </form>
                                </div></div>
                            </div>
                            <hr>

                            <button onclick="submitMultiAnalysis()">Submit Analysis</button>
                        </div>
                    </div>

                    <div class="single-input" id="single-input">
                        <label for="single-input-type">Select type of input:</label>
                        <select id="single-input-type" name="single-input-type">
                            <option value="nanopore">Nanopore reads</option>
                            <option value="pe_illumina">Paired end illumina reads</option>
                            <option value="se_illumina">Single end illumina reads</option>
                        </select>
                        <br>
                        <form action="/action_page.php">
                            <input type="file" id="single-input-field" name="single-input-field" multiple="multiple" value=""><br><br>
                        </form>
                        <div>
                            <!-- Rounded switch -->
                            <label>Use current IP address for GEO coordinates of sample: </label>
                            <label class="switch" onclick="geotooglefunc">
                                <input type="checkbox" id="geotoggle">
                                <span class="slider round"></span>
                            </label>

                            <label>Or give custom location: City:</label>
                            <input type="text" id="City" name="City" value="">
                            <label>Country: </label>
                            <input type="text" id="Country" name="Country" value="">
                        </div>

                        <button onclick="submitSingleAnalysis()">Submit Analysis</button>
                    </div>
                </div>


            </div>




        </section>
    </main>
</div>

<script type="text/javascript">
      document.getElementById('upload-config-file').addEventListener('change', readSingleFile, false);
  </script>
</body>
</html>
