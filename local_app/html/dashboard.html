<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Microbial Outbreak Surveillance System 1.0</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../js/dashboard.js?n=1" type="text/javascript"></script>
</head>


  <body>
  <!-- Side navigation -->
<div class="sidenav" id="mySidebar">
      <a href="./index.html" id>Guide</a>
      <a href="./services.html">Services</a>
      <a href="./analytics.html">Analytics</a>
      <!-- <a href="./database.html">Database</a> -->
      <a href="./dashboard.html">Dashboard</a>
      <!-- <a href="./update.html">Update</a> -->
      <a href="./config.html">Config</a>
      <a href="./results.html">Results</a>
    <a href="./basecalling.html">Base Calling</a>
  </div>
  <!-- Page content -->


  <div class="main" id="main">
    <main data-router-wrapper>
      <section data-router-view="Guide" class="Guide">
        <div class="Guide-content">
            <div class ="Guide-presentation"n>
                <h1>Dashboard</h1></div>
            <div class ="Guide-presentation" hidden>
                <h1>Dashboard</h1>

                Your current system configuration is:

                <pre id="current-config"></pre>

            </div>
            <hr>
            <div class="dashboard-options">
                Fetch analysis results of:
                <br>
                <button type="button" id="cluster-reference-button" onclick="showClusterReferenceOptions()">Cluster Reference</button>
                <button type="button" id="individual-isolate-button" onclick="showIndividualIsolateOptions()">Individual isolates</button>
                <button type="button" id="most-recent-button" onclick="showMostRecentIsolates()">Most recently analysed isolates</button>
                <br>
                <!-- <button type="button" id="outbreak-clusters-button" onclick="outbreakClustersCollapsible()">Show outbreak clusters</button>-->
            </div>
            <br>
            <div id='button-panel'></div>
            <br>
            <div id='search-area'></div>
            <br>
            <div id='showData'></div>
            <br>
            </div>
            
            



      </section>
    </main>
  </div>

  <script type="text/javascript">

    const storage = require('electron-json-storage');

    storage.get('currentConfig', function(error, data) {
      if (error) throw error;

      var element = document.getElementById('current-config');
      element.textContent = data.db_dir;
      console.log(document.getElementById('current-config').innerHTML);

    });



    document.getElementById('showData').addEventListener('change', testchange, false);


    function testchange() {
        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
            content.style.display = "none";
            } else {
            content.style.display = "block";
            }
        });
    }

    }
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
        content.style.display = "none";
        } else {
        content.style.display = "block";
        }
    });
    }

  </script>
  </body>
</html>
